BLOCK 'Beginning of Block'
ON BLOCK ERROR

END
    SET SSYSERID TO CurrentRow['SSYSERID']
    DISABLE SET racfUsername TO CurrentRow['RACFUSERID']
    DISABLE File.ConvertFromBase64 Base64Text: CurrentRow['RACFBASE64PASSWORD'] File: $'''D:\\Users\\%machineUser%\\RACFBASE64Password.txt''' IfFileExists: File.IfExists.Overwrite
    DISABLE File.ReadTextFromFile.ReadText File: $'''D:\\Users\\%machineUser%\\RACFBASE64Password.txt''' Encoding: File.TextFileEncoding.UTF8 Content=> racfPassword
    DISABLE File.Delete Files: $'''D:\\Users\\%machineUser%\\RACFBASE64Password.txt'''
    DISABLE SET encryptedPassword TO CurrentRow['RACFBASE64PASSWORD']
    SET DatabaseName TO CurrentRow['dataBaseName']
    SET extractId TO CurrentRow['extractId']
    SET releaseFilter TO CurrentRow['releaseFilter']
    SET SourceDatabase TO CurrentRow['sourceDatabase']
    Text.GetSubtext.GetSubtextFromStartTo Text: SourceDatabase NumberOfChars: 8 Subtext=> db2SourceDatabase
    SET targetDatabaseName TO CurrentRow['targetDatabase']
    SET environmentName TO CurrentRow['environmentName']
    SET personInternalIds TO $'''\'%CurrentRow['personalInternalIds']%'''
    SET USERNAME TO CurrentRow['USERNAME']
    SET USERBSCNM TO CurrentRow['USERBSCNM']
    SET SRCDB TO CurrentRow['SRCDB']
    Text.GetSubtext.GetSubtextFromStartTo Text: SRCDB NumberOfChars: 2 Subtext=> SRCSS
    SET SRCSS TO $'''DB%SRCSS%'''
    SET TRGTDB TO CurrentRow['TRGTDB']
    Text.GetSubtext.GetSubtextFromStartTo Text: TRGTDB NumberOfChars: 2 Subtext=> TRGTSS
    SET TRGTSS TO $'''DB%TRGTSS%'''
    SET CMPODB TO CurrentRow['CMPODB']
    Text.GetSubtext.GetSubtextFromStartTo Text: CMPODB NumberOfChars: 2 Subtext=> CMPOSS
    SET CMPOSS TO $'''DB%CMPOSS%'''
    SET SSYSERNM TO CurrentRow['SSYSERNM']
    SET TBARLSID TO CurrentRow['TBARLSID']
    SET LOBCD TO CurrentRow['LOBCD']
    SET TRGTRLSE TO CurrentRow['TRGTRLSE']
    SET DBLIFECYCLE TO CurrentRow['DBLIFECYCLE']
    SET TRGTDBLIFECYCCD TO CurrentRow['TRGTDBLIFECYCCD']
    SET CMPOLIFECYCCD TO CurrentRow['CMPOLIFECYCCD']
    SET CTRYCD TO CurrentRow['CTRYCD']
    SET HALANID TO CurrentRow['HALANID']
    IF Contains($'''P0095''', SSYSERID, True) THEN
        SET purgeDBBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /TESTCLIENT=Y /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 APPL_NM=RPTLNCH TITLE=\"Adhoc Batch Utilities\" DISPLAY_OUTPUT=N MULTI_JOBS=Y   PIPENAME=WorkbenchApp PIPEKEY=38705555.115350'''
        SET migrationDBBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /TESTCLIENT=Y /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 TITLE=\"Partial Migrations\" JOB_NM=GNRCMGRT  DISPLAY_OUTPUT=N MULTI_JOBS=N AUTO_SUBMIT=N   PIPENAME=WorkbenchApp PIPEKEY=18100.904841'''
        SET pdmBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /TESTCLIENT=Y /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0    PIPENAME=WorkbenchApp PIPEKEY=38706340.903170'''
        SET udpSyncBatchArgs TO $'''USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /TESTCLIENT=Y /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 TMPL_NM=JOBC and MULTI_JOBS=Y   PIPENAME=WorkbenchApp PIPEKEY=61010.900790'''
    ELSE
        SET purgeDBBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 APPL_NM=RPTLNCH TITLE=\"Adhoc Batch Utilities\" DISPLAY_OUTPUT=N MULTI_JOBS=Y   PIPENAME=WorkbenchApp PIPEKEY=38705555.115350'''
        SET migrationDBBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 TITLE=\"Partial Migrations\" JOB_NM=GNRCMGRT  DISPLAY_OUTPUT=N MULTI_JOBS=N AUTO_SUBMIT=N   PIPENAME=WorkbenchApp PIPEKEY=18100.904841'''
        SET pdmBatchArgs TO $'''/USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0    PIPENAME=WorkbenchApp PIPEKEY=38706340.903170'''
        SET udpSyncBatchArgs TO $'''USERNAME=\"%USERNAME%\" /USERBSCNM=\"%USERBSCNM%\" /USERID=%racfUsername% /PW=%racfPassword% /SRCDB=%SRCDB% /SRCSS=%SRCSS% /TRGTDB=%TRGTDB% /TRGTSS=%TRGTSS% /SSYSERID=%SSYSERID% /SSYSERNM=\"%SSYSERNM%\" /SSYSSS=DBQ7 /SSYSDB=Q7WKBNCH /WBPRVSDB=Q7WKBNCH /CMPOSS=%CMPOSS% /CMPODB=%CMPODB% /CMPOLIFECYCCD=%CMPOLIFECYCCD% /TBARLSID=%TBARLSID% /LOBCD=%LOBCD% /TRGTRLSE=%TRGTRLSE% /TRGTDBLIFECYCCD=%TRGTDBLIFECYCCD% /CTRYCD=%CTRYCD% /DBLIFECYCLE=%DBLIFECYCLE% /HALANID=%HALANID% /CLIENTREADONLY=0 /WBVERSION=\"PRD-9.04.00\" /EMCLIENTID=\"\" /SPLITIND= /SSYSWBID=1 /ADMIN=0 TMPL_NM=JOBC and MULTI_JOBS=Y   PIPENAME=WorkbenchApp PIPEKEY=61010.900790'''
    END
END
